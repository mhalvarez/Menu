-- TABLA ANTIGUA

--CREATE TABLE TH_ERRO
--(
--  ERRO_F_ATOCAB        DATE,
--  ERRO_CBATOCAB_REFER  NUMBER,
--  ERRO_LINEA           NUMBER,
--  ERRO_DESCRIPCION     VARCHAR2(256 BYTE)
--)
--LOGGING 
--NOCOMPRESS 
--NOCACHE
--NOPARALLEL
--MONITORING;







DROP TABLE TH_ERRO CASCADE CONSTRAINTS;
--


CREATE TABLE TH_ERRO
(
  ERRO_TIPO            VARCHAR2(25 BYTE)        DEFAULT 'NEWHOTEL'            NOT NULL,
  ERRO_EMPGRUPO_COD    VARCHAR2(4 BYTE)         NOT NULL,
  ERRO_EMP_COD         VARCHAR2(4 BYTE)         NOT NULL,
  ERRO_EMP_NUM         NUMBER                   DEFAULT 0                     NOT NULL,
  ERRO_F_ATOCAB        DATE,
  ERRO_CBATOCAB_REFER  NUMBER,
  ERRO_LINEA           NUMBER,
  ERRO_DESCRIPCION     VARCHAR2(256 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX TH_ERRO_PK ON TH_ERRO
(ERRO_TIPO, ERRO_EMPGRUPO_COD, ERRO_EMP_COD, ERRO_EMP_NUM)
LOGGING
NOPARALLEL;


ALTER TABLE TH_ERRO ADD (
  CONSTRAINT TH_ERRO_PK
 PRIMARY KEY
 (ERRO_TIPO, ERRO_EMPGRUPO_COD, ERRO_EMP_COD, ERRO_EMP_NUM));








UPDATE TH_PARA SET PARA_FECHA_BASE = '19-FEB-2010';
UPDATE TH_PARA SET PARA_FECHA_EXE  = '19-FEB-2010';

COMMIT;