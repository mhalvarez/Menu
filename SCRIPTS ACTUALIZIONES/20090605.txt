ALTER TABLE TC_ASNT
 DROP PRIMARY KEY CASCADE;
DROP TABLE TC_ASNT CASCADE CONSTRAINTS;

CREATE TABLE TC_ASNT
(
  ASNT_TIPO_REGISTRO      VARCHAR2(5 BYTE)      NOT NULL,
  ASNT_EMPGRUPO_COD       VARCHAR2(4 BYTE)      NOT NULL,
  ASNT_EMP_COD            VARCHAR2(4 BYTE)      NOT NULL,
  ASNT_CFEJERC_COD        VARCHAR2(4 BYTE)      NOT NULL,
  ASNT_CFATODIARI_COD     VARCHAR2(4 BYTE)      NOT NULL,
  ASNT_CFATOCAB_REFER     NUMBER(8)             NOT NULL,
  ASNT_LINEA              NUMBER(4)             NOT NULL,
  ASNT_CFCTA_COD          VARCHAR2(15 BYTE)     NOT NULL,
  ASNT_CFCPTOS_COD        VARCHAR2(4 BYTE)      NOT NULL,
  ASNT_AMPCPTO            VARCHAR2(40 BYTE),
  ASNT_I_MONEMP           NUMBER(14,2),
  ASNT_CONCIL_SN          VARCHAR2(1 BYTE)      NOT NULL,
  ASNT_F_ATOCAB           DATE                  NOT NULL,
  ASNT_F_VALOR            DATE                  NOT NULL,
  ASNT_NOMBRE             VARCHAR2(100 BYTE),
  ASNT_DEBE               NUMBER,
  ASNT_HABER              NUMBER,
  ASNT_AJUSTAR            VARCHAR2(2 BYTE),
  ASNT_AJUSTE             NUMBER,
  ASNT_CIF                VARCHAR2(20 BYTE),
  ASNT_IMPRIMIR           VARCHAR2(2 BYTE)      DEFAULT 'SI',
  ASNT_AUXILIAR_STRING    VARCHAR2(1000 BYTE),
  ASNT_AUXILIAR_NUMERICO  NUMBER,
  ASNT_FACTURA_NUMERO     VARCHAR2(30 BYTE),
  ASNT_FACTURA_SERIE      VARCHAR2(30 BYTE),
  ASNT_TIPO_IMPUESTO      NUMBER                DEFAULT 0                     NOT NULL,
  ASNT_AUXILIAR_STRING2   VARCHAR2(1000 BYTE),
  ASNT_DPTO_CODI          VARCHAR2(20 BYTE),
  ASNT_WEBSERVICE_NAME    VARCHAR2(512 BYTE),
  ASNT_LIN_VCRE           NUMBER,
  ASNT_LIN_VLIQ           NUMBER,
  ASNT_LIN_IMP1           NUMBER,
  ASNT_LIN_DOCU           VARCHAR2(15 BYTE),
  ASNT_DOCU_VALO          NUMBER,
  ASNT_LIN_TIIMP          NUMBER,
  ASNT_FORE_CODI          VARCHAR2(10 BYTE),
  ASNT_CACR_CODI          VARCHAR2(10 BYTE),
  ASNT_FORE_CODI_AX       VARCHAR2(10 BYTE),
  ASNT_TIPO_PROD          VARCHAR2(25 BYTE),
  ASNT_PROD_ID            VARCHAR2(30 BYTE),
  ASNT_PROD_TALLA         VARCHAR2(30 BYTE),
  ASNT_PROD_COLOR         VARCHAR2(30 BYTE),
  ASNT_ALMA_AX            VARCHAR2(30 BYTE),
  ASNT_TIPOFACTURA_AX     NUMBER                DEFAULT 0,
  ASNT_NHCUSTACCOUNT      VARCHAR2(30 BYTE),
  ASNT_AX_STATUS          NUMBER                DEFAULT 0,
  ASNT_ERR_MESSAGE        VARCHAR2(2048 BYTE));


COMMENT ON COLUMN TC_ASNT.ASNT_AUXILIAR_STRING IS 'Cualquier uso alfanumerico';

COMMENT ON COLUMN TC_ASNT.ASNT_AUXILIAR_NUMERICO IS 'Cualquier uso numerico';

COMMENT ON COLUMN TC_ASNT.ASNT_FACTURA_NUMERO IS 'Numero de Factura/Docuemnto';

COMMENT ON COLUMN TC_ASNT.ASNT_FACTURA_SERIE IS 'Serie de Factura/Documento';

COMMENT ON COLUMN TC_ASNT.ASNT_TIPO_IMPUESTO IS 'Porcentaje de impuesto';

COMMENT ON COLUMN TC_ASNT.ASNT_DPTO_CODI IS 'Codigo de Departamento NewHotel';

COMMENT ON COLUMN TC_ASNT.ASNT_WEBSERVICE_NAME IS 'AX Nombre del Servicio Web A llamar para este Registro';

COMMENT ON COLUMN TC_ASNT.ASNT_LIN_VCRE IS 'AX Valor de Movi_Vcre si es una Factura';

COMMENT ON COLUMN TC_ASNT.ASNT_LIN_VLIQ IS 'AX Valor de Movi_Vliq si es una Factura';

COMMENT ON COLUMN TC_ASNT.ASNT_LIN_IMP1 IS 'AX Valor de Movi_Vimp1 si es una Factura';

COMMENT ON COLUMN TC_ASNT.ASNT_LIN_DOCU IS 'AX Numero de FActura';

COMMENT ON COLUMN TC_ASNT.ASNT_DOCU_VALO IS 'AX Valor Total de la  FActura';

COMMENT ON COLUMN TC_ASNT.ASNT_LIN_TIIMP IS 'AX Porcentaje de impuesto si  es una Factura';

COMMENT ON COLUMN TC_ASNT.ASNT_FORE_CODI IS 'AX Forma de Cobro NewHotel';

COMMENT ON COLUMN TC_ASNT.ASNT_CACR_CODI IS 'AX Tarjeta Visa NewHotel';

COMMENT ON COLUMN TC_ASNT.ASNT_FORE_CODI_AX IS 'AX Equivalente de Forma de Cobro/Visa en Axapta';

COMMENT ON COLUMN TC_ASNT.ASNT_TIPO_PROD IS 'AX Indicador se tipo de Produccion BONO = Produccion de Bonos ';

COMMENT ON COLUMN TC_ASNT.ASNT_PROD_ID IS 'AX Codigo de Articulo para Inventario';

COMMENT ON COLUMN TC_ASNT.ASNT_PROD_TALLA IS 'AX Talla de Articulo para Inventario';

COMMENT ON COLUMN TC_ASNT.ASNT_PROD_COLOR IS 'AX Color de Articulo para Inventario';

COMMENT ON COLUMN TC_ASNT.ASNT_ALMA_AX IS 'AX Codigo de Almacen an Axapta  para Inventario';

COMMENT ON COLUMN TC_ASNT.ASNT_TIPOFACTURA_AX IS '1=Entidad,2=No Alojado,3=Contado,9=Otras';

COMMENT ON COLUMN TC_ASNT.ASNT_NHCUSTACCOUNT IS 'Ax Codigo de Cliente NewHotel en Axapta Solo en Facturas';

COMMENT ON COLUMN TC_ASNT.ASNT_AX_STATUS IS 'Ax Estado de Envio Axapta 0=No enviado,1=Enviado Ok';

COMMENT ON COLUMN TC_ASNT.ASNT_ERR_MESSAGE IS 'Ax Descripcion del Error caso de producirse';


CREATE UNIQUE INDEX TC_ASNT_PK ON TC_ASNT
(ASNT_TIPO_REGISTRO, ASNT_EMPGRUPO_COD, ASNT_EMP_COD, ASNT_CFATOCAB_REFER, ASNT_LINEA, 
ASNT_F_VALOR)
LOGGING
NOPARALLEL;


DROP PUBLIC SYNONYM TC_ASNT;

CREATE PUBLIC SYNONYM TC_ASNT FOR TC_ASNT;


ALTER TABLE TC_ASNT ADD (
  CONSTRAINT TC_ASNT_PK
 PRIMARY KEY
 (ASNT_TIPO_REGISTRO, ASNT_EMPGRUPO_COD, ASNT_EMP_COD, ASNT_CFATOCAB_REFER, ASNT_LINEA, ASNT_F_VALOR));








CREATE TABLE TC_PARA
(
  PARA_EMPGRUPO_COD             VARCHAR2(4 BYTE) NOT NULL,
  PARA_EMP_COD                  VARCHAR2(4 BYTE) NOT NULL,
  PARA_ORIGENCUENTAS            NUMBER          DEFAULT 0                     NOT NULL);



COMMENT ON COLUMN TC_PARA.PARA_ORIGENCUENTAS IS 'Origen de las Cuentas Contables 0=NewConta,1=NewCentral';

CREATE UNIQUE INDEX TC_PARA_PK ON TC_PARA
(PARA_EMPGRUPO_COD, PARA_EMP_COD)
LOGGING
NOPARALLEL;


ALTER TABLE TC_PARA ADD (
  CONSTRAINT TC_PARA_PK
 PRIMARY KEY
 (PARA_EMPGRUPO_COD, PARA_EMP_COD));



ALTER TABLE TC_PARA
 ADD (PARA_ESTABLECIMIENTO  VARCHAR2(10));


COMMENT ON COLUMN TC_PARA.PARA_ESTABLECIMIENTO IS 'Codigo de Establecimiento NewConta';



UPDATE TH_PARA SET PARA_FECHA_BASE = '05-JUN-2009';
UPDATE TH_PARA SET PARA_FECHA_EXE  = '05-JUN-2009';
COMMIT;
