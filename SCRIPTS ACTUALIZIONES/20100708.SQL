



ALTER TABLE INTEGRACION.TH_PARA
 ADD (PARA_PREF_NCREG  VARCHAR2(15)                 DEFAULT 'B');


COMMENT ON COLUMN INTEGRACION.TH_PARA.PARA_PREF_NCREG IS 'Prefijo para forzar una serie distinta en las Notas de Credito NewGolf Anuladas';



ALTER TABLE TH_PARA ADD (PARA_PAT_NUM VARCHAR2(20) NULL);



CREATE SEQUENCE TH_ASNT_SEC
  START WITH 0
  MAXVALUE 999999999999999999999999999
  MINVALUE 0
  NOCYCLE
  NOCACHE
  NOORDER;


CREATE OR REPLACE TRIGGER TH_ASNT_TRG1
BEFORE INSERT
ON TH_ASNT 
REFERENCING NEW AS NEW OLD AS OLD
FOR EACH ROW
DECLARE codigo NUMBER;

BEGIN
 

  IF(inserting) THEN
  
  select TH_ASNT_SEC.nextval into codigo from dual;

    :NEW.ASNT_LINEA := codigo;
  END IF;
  /

EXCEPTION
WHEN others THEN
  -- Consider logging the error and then re-raise
  RAISE;

END TH_ASNT_TRG1;

ALTER TABLE INTEGRACION.TH_ASNT
MODIFY(ASNT_LINEA NUMBER(10));

UPDATE TH_PARA SET PARA_PAT_NUM = 'PAT0023';
UPDATE TH_PARA SET PARA_FECHA_BASE = '08-JUL-2010';
UPDATE TH_PARA SET PARA_FECHA_EXE  = '08-JUL-2010';

COMMIT;