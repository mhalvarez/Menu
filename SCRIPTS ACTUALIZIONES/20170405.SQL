 
 
 
CREATE TABLE TG_CONTROL
(
  CONTROL_DATA    DATE,
  CONTROL_ID     VARCHAR2(50 BYTE),
  CONTROL_TIPO    VARCHAR2(25 BYTE),
  CONTROL_STATUS  VARCHAR2(25 BYTE),
  CONTROL_OBSE    VARCHAR2(512 BYTE)
)
TABLESPACE USERS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

COMMENT ON COLUMN TG_CONTROL.CONTROL_TIPO IS 'NewHotel / NewSrock / NewConta';

COMMENT ON COLUMN TG_CONTROL.CONTROL_STATUS IS 'No Procesado / Procesado / En proceso';


CREATE UNIQUE INDEX TG_CONTROL_PK ON TG_CONTROL
(CONTROL_DATA, CONTROL_ID)
LOGGING
TABLESPACE USERS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE TG_CONTROL ADD (
  CONSTRAINT TG_CONTROL_PK
  PRIMARY KEY
  (CONTROL_DATA, CONTROL_ID)
  USING INDEX TG_CONTROL_PK);

 ALTER TABLE TH_PARA
 ADD (PARA_VITAL_SUPLEDESAYUNO  VARCHAR2(10));

 ALTER TABLE TH_PARA
 ADD (PARA_VITAL_DEBECAJA  VARCHAR2(15));

 ALTER TABLE TH_PARA
 ADD (PARA_VITAL_HABERCAJA  VARCHAR2(15));


 COMMENT ON COLUMN TH_PARA.PARA_VITAL_SUPLEDESAYUNO IS 'Codigo Servicio Suplemento Desayuno';

COMMENT ON COLUMN TH_PARA.PARA_VITAL_DEBECAJA IS 'Cta Debe Operaciones de Caja';

COMMENT ON COLUMN TH_PARA.PARA_VITAL_HABERCAJA IS 'Cta Haber Operaciones de Caja';



 ALTER TABLE TH_PARA
 ADD (PARA_VITAL_FOREEFECTIVO  VARCHAR2(5 BYTE));


COMMENT ON COLUMN TH_PARA.PARA_VITAL_FOREEFECTIVO IS 'Codigo FORE_CODIi efectivo ';



ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_NDOCUMENTO  VARCHAR2(25 BYTE));

   ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_TIPODOC  VARCHAR2(25));


ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_TIPOMOV  VARCHAR2(25 BYTE));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_DIMENNATURALEZA  VARCHAR2(25 BYTE));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_DIMENDPTO  VARCHAR2(25 BYTE));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_DIMENACCESO  VARCHAR2(25 BYTE));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_RESERVA  VARCHAR2(25 BYTE));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_LIQUIDAR  VARCHAR2(25 BYTE));


COMMENT ON COLUMN TH_ASNT.ASNT_MORA_NDOCUMENTO IS 'Numero de Documento newhotel';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_TIPODOC IS 'Tipo de Documento';
COMMENT ON COLUMN TH_ASNT.ASNT_MORA_TIPOMOV IS 'Tipo de Movimiento';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_DIMENNATURALEZA IS 'Dimension Global Naturaleza';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_DIMENDPTO IS 'Dimension Global Departamento';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_DIMENACCESO IS 'Dimension de Acceso Directo';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_RESERVA IS 'Reserva + Anio + N Doc Externo';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_LIQUIDAR IS 'Para Liquidar Depositos';




ALTER TABLE TH_PARA
 ADD (PARA_WEBSERVICE_ENAME  VARCHAR2(1024));


COMMENT ON COLUMN TH_PARA.PARA_WEBSERVICE_ENAME IS 'Nombre de la Empresa Ruta Web Service';

ALTER TABLE TH_PARA
MODIFY(PARA_WEBSERVICE_LOCATION2 VARCHAR2(1024 BYTE));





ALTER TABLE TH_PARA
 ADD (PARA_MORA_PREPROD  VARCHAR2(10));


COMMENT ON COLUMN TH_PARA.PARA_MORA_PREPROD IS 'Prefijo Num Doc Produccion';


ALTER TABLE TH_PARA
MODIFY(PARA_MORA_PREPROD  DEFAULT 'P');




ALTER TABLE TH_PARA
 ADD (PARA_MORA_TMOVCUENTA  VARCHAR2(25));

ALTER TABLE TH_PARA
 ADD (PARA_MORA_TMOVBANCO  VARCHAR2(25));

ALTER TABLE TH_PARA
 ADD (PARA_MORA_TMOVCLIENTE  VARCHAR2(25));

ALTER TABLE TH_PARA
 ADD (PARA_MORA_TDOCFACTURA  VARCHAR2(25));

ALTER TABLE TH_PARA
 ADD (PARA_MORA_TDOCABONO  VARCHAR2(25));


COMMENT ON COLUMN TH_PARA.PARA_MORA_TMOVCUENTA IS 'Tipo de Movimiento Cuenta Morasol';

COMMENT ON COLUMN TH_PARA.PARA_MORA_TMOVBANCO IS 'Tipo de Movimiento Banco Morasol';

COMMENT ON COLUMN TH_PARA.PARA_MORA_TMOVCLIENTE IS 'Tipo de Movimiento Cliente Morasol';

COMMENT ON COLUMN TH_PARA.PARA_MORA_TDOCFACTURA IS 'Tipo de Documento Factura Morasol';

COMMENT ON COLUMN TH_PARA.PARA_MORA_TDOCABONO IS 'Tipo de Documento Abono Morasol';


ALTER TABLE TH_PARA
 ADD (PARA_MORA_TDOCANTICIPO  VARCHAR2(25 BYTE));

ALTER TABLE TH_PARA
 ADD (PARA_MORA_TDOCDEPOSITO  VARCHAR2(25 BYTE));




COMMENT ON COLUMN TH_PARA.PARA_MORA_TDOCANTICIPO IS 'Tipo de Documento Anticipo Morasol';

COMMENT ON COLUMN TH_PARA.PARA_MORA_TDOCDEPOSITO IS 'Tipo de Documento Deposito Morasol';


UPDATE TH_PARA
SET    PARA_MORA_TMOVCUENTA         = 'CUENTA',
       PARA_MORA_TMOVBANCO          = 'BANCO',
       PARA_MORA_TMOVCLIENTE        = 'CLIENTE',
       PARA_MORA_TDOCFACTURA        = 'FACTURA',
       PARA_MORA_TDOCABONO          = 'ABONO',
         PARA_MORA_TDOCANTICIPO          = 'ANTICIPO',
           PARA_MORA_TDOCDEPOSITO          = 'DEPOSITO'
WHERE  PARA_EMPGRUPO_COD            = 'GRTI';




ALTER TABLE TH_HOTEL ADD 
CONSTRAINT TH_HOTEL_FK1
 FOREIGN KEY (HOTEL_EMPGRUPO_COD, HOTEL_EMP_COD, HOTEL_EMP_NUM)
 REFERENCES TH_PARA (PARA_EMPGRUPO_COD, PARA_EMP_COD, PARA_EMP_NUM)
 ENABLE
 VALIDATE;


 ALTER TABLE TH_PARA
 ADD (PARA_MORA_DIMENHOTEL  VARCHAR2(25 BYTE));


COMMENT ON COLUMN TH_PARA.PARA_MORA_DIMENHOTEL IS 'Dimension de Acceso Hotel Morasol';





ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_FAC_IVANEGOCIO  VARCHAR2(25));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_FAC_IVAPRODUCTO  VARCHAR2(25));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_FAC_NEGOCIO  VARCHAR2(25));

ALTER TABLE TH_ASNT
 ADD (ASNT_MORA_FAC_PRODUCTO  VARCHAR2(25));


COMMENT ON COLUMN TH_ASNT.ASNT_MORA_FAC_IVANEGOCIO IS 'Grupo Registro  IVA Negocio';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_FAC_IVAPRODUCTO IS 'Grupo Registro  IVA Producto';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_FAC_NEGOCIO IS 'Grupo Contable Negocio';

COMMENT ON COLUMN TH_ASNT.ASNT_MORA_FAC_PRODUCTO IS 'Grupo Contable Producto';



alter session set nls_language = 'AMERICAN';
alter session set nls_territory = 'AMERICA';
alter session set nls_date_format = 'DD-MON-YYYY';
  
UPDATE TH_PARA SET PARA_PAT_NUM = 'PAT0040';
UPDATE TH_PARA SET PARA_FECHA_BASE = '05-APR-2017';
UPDATE TH_PARA SET PARA_FECHA_EXE  = '05-APR-2017';

COMMIT;
