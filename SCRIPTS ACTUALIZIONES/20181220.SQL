


ALTER TABLE TS_ASNT  
MODIFY (ASNT_DOCU VARCHAR2(30 BYTE) );

ALTER TABLE TS_ASNT  
MODIFY (ASNT_DORE VARCHAR2(30 BYTE) );

ALTER TABLE TS_ASNT  
MODIFY (ASNT_AX_MOVG_DORE VARCHAR2(30 BYTE) );

-- OJO IMPLEMENTADO HASTA AQUI EN SANTA MONICA



ALTER TABLE TH_PARA 
ADD (PARA_SPYRO_SII NUMBER DEFAULT 0 );

COMMENT ON COLUMN TH_PARA.PARA_SPYRO_SII IS 'Si se Generan Registros SV para Agencia Tributaria SII';


ALTER TABLE TH_PARA 
ADD (PARA_SPYRO_NACICODI VARCHAR2(15 BYTE) DEFAULT 'NACI_CODI' );

COMMENT ON COLUMN TH_PARA.PARA_SPYRO_NACICODI IS 'Campo de tnht_naci que se va a usar para el SII';

ALTER TABLE TS_PARA 
ADD (PARA_SPYRO_TIPO_ANALITICA VARCHAR2(15 BYTE) DEFAULT 'ASM' );

COMMENT ON COLUMN TS_PARA.PARA_SPYRO_TIPO_ANALITICA IS 'Tipo de Analitica Registros AA';



ALTER TABLE TS_ASNT 
ADD (ASNT_CFCCOSTO VARCHAR2(15 BYTE ));

COMMENT ON COLUMN TS_ASNT.ASNT_CFCCOSTO IS 'Centro de Costo Spyro';




CREATE TABLE TH_NCR
(
  NCR_SEFA  VARCHAR2(15),
  NCR_CODI  NUMBER
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
NOMONITORING;

COMMENT ON TABLE TH_NCR IS 'Serie de Notas de Credito anuladas para spyro';

COMMENT ON COLUMN TH_NCR.NCR_SEFA IS 'serie';

COMMENT ON COLUMN TH_NCR.NCR_CODI IS 'numero';


ALTER TABLE TH_NCR ADD (
  CONSTRAINT TH_NCR_PK
  PRIMARY KEY
  (NCR_SEFA, NCR_CODI));



ALTER TABLE TH_NCR
 ADD (NCR_NEWH  VARCHAR2(25));


COMMENT ON COLUMN TH_NCR.NCR_NEWH IS 'Nota de Credito de Newhotel Anulada';


ALTER TABLE TH_NCR
 ADD (NCR_DATR DATE);
 COMMENT ON COLUMN TH_NCR.NCR_DATR IS 'Fecha del Registro';


ALTER TABLE TH_PARA
 ADD (PARA_CCEX_TPV  VARCHAR2(15) DEFAULT 'TPV' );

COMMENT ON COLUMN TH_PARA.PARA_CCEX_TPV IS 'Cuenta No Alojado NewHotel Puntos de Venta';


ALTER TABLE TH_PARA 
ADD (PARA_SPYRO_TIKETSV NUMBER DEFAULT 8 );

COMMENT ON COLUMN TH_PARA.PARA_SPYRO_TIKETSV IS 'Longitud de Contadores de Tikets Registro SV';


ALTER TABLE TS_PARA 
ADD (PARA_SPYRO_TIPO_MOVTRANS VARCHAR2(100 BYTE) );

COMMENT ON COLUMN TS_PARA.PARA_SPYRO_TIPO_MOVTRANS  IS 'Tipos de Movimientos Transferencia Bancaria';



ALTER TABLE TC_PARA 
ADD (PARA_USER_NEWHOTEL VARCHAR2(20) DEFAULT 'RMC' );



ALTER TABLE TC_PARA 
ADD (PARA_USA_FACT_NEG NUMBER DEFAULT 0 );

ALTER TABLE TC_PARA 
ADD (PARA_USA_FACT_NEG2 NUMBER DEFAULT 0 );

ALTER TABLE TC_PARA 
ADD (PARA_USA_FACT_ANUL NUMBER DEFAULT 0 );

ALTER TABLE TC_PARA 
ADD (PARA_USA_FACT_ANUL2 NUMBER DEFAULT 0 );

COMMENT ON COLUMN TC_PARA.PARA_USA_FACT_NEG IS 'Tratar Faturas Negativas Como Pagos';

COMMENT ON COLUMN TC_PARA.PARA_USA_FACT_NEG2 IS 'Tratar Faturas Negativas en Regularizaciones';

COMMENT ON COLUMN TC_PARA.PARA_USA_FACT_ANUL IS 'Tratar Faturas Anuladas Como Pagos';

COMMENT ON COLUMN TC_PARA.PARA_USA_FACT_ANUL2 IS 'Tratar Faturas Anuladas en Regularizaciones';


DELETE TP_ASNT;
COMMIT;

ALTER TABLE TP_ASNT 
ADD (ASNT_EMP_NUM NUMBER );


ALTER TABLE TC_ASNT 
ADD (ASNT_RECIBOS VARCHAR2(512) );

COMMENT ON COLUMN TC_ASNT.ASNT_RECIBOS IS 'Recibos en los que se encuentra un Movimiento';



ALTER TABLE TC_PARA 
ADD (PARA_USA_PAGOS NUMBER DEFAULT 1 );

COMMENT ON COLUMN TC_PARA.PARA_USA_PAGOS IS 'Si se genera el Asiento de PAgos Recibidos';

ALTER TABLE TS_PARA
ADD (PARA_USA_CUENTAPUENTE NUMBER DEFAULT 0 );

ALTER TABLE TS_PARA
ADD (PARA_CTAPUENTE_PAGOS VARCHAR2(15) );

ALTER TABLE TS_PARA
ADD (PARA_CUENTAPUENTE_AGRUPA NUMBER DEFAULT 0 );

COMMENT ON COLUMN TS_PARA.PARA_USA_CUENTAPUENTE IS 'Si Usa Cuenta Puente Asiento de Pagos NewPaga';
COMMENT ON COLUMN TS_PARA.PARA_CTAPUENTE_PAGOS IS 'Cuenta Puente Asiento de Pagos NewPaga';
COMMENT ON COLUMN TS_PARA.PARA_CUENTAPUENTE_AGRUPA IS 'Si la Cuenta Puente del Asiento de PAgos (Newpaga) Se agrupa o NO';


ALTER TABLE TS_PARA 
ADD (PARA_CTA_PUNTOVERDE VARCHAR2(20) );

COMMENT ON COLUMN TS_PARA.PARA_CTA_PUNTOVERDE IS 'Gastos de Punto Verde';

UPDATE TS_PARA SET PARA_CTA_PUNTOVERDE ='6010050000';

UPDATE TS_PARA SET PARA_USA_CUENTAPUENTE =1;
UPDATE TS_PARA SET PARA_CUENTAPUENTE_AGRUPA =1;
UPDATE TS_PARA SET PARA_CTAPUENTE_PAGOS ='4079999999';



UPDATE TH_PARA SET PARA_PAT_NUM = '20181220.05';
COMMIT;




ALTER TABLE TH_RECI_MOVI
ADD CONSTRAINT TH_RECI_MOVI_FK1 FOREIGN KEY
(
  RECI_CODI 
, RECI_ANCI 
)
REFERENCES TH_RECI
(
  RECI_CODI 
, RECI_ANCI 
)
ENABLE;


UPDATE TH_PARA SET PARA_PAT_NUM = '20181220.06';
COMMIT;


ALTER TABLE TC_PARA
ADD (PARA_TEXTOS_FIJOS NUMBER DEFAULT 0 );

ALTER TABLE TS_PARA
ADD (PARA_CTA6 VARCHAR2(15) DEFAULT '6690');

UPDATE TH_PARA SET PARA_PAT_NUM = '20181220.07';
COMMIT;

alter session set nls_language = 'AMERICAN';
alter session set nls_territory = 'AMERICA';
alter session set nls_date_format = 'DD-MON-YYYY';
  
--UPDATE TH_PARA SET PARA_PAT_NUM = 'PAT0041';
UPDATE TH_PARA SET PARA_FECHA_BASE = '20-DEC-2018';
UPDATE TH_PARA SET PARA_FECHA_EXE  = '20-DEC-2018';

COMMIT;